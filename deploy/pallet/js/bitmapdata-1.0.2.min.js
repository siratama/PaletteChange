/*
BitmapData for EaselJS
Version: 1.00
Author: kudox
http://kudox.jp/
http://twitter.com/u_kudox
Licensed under the MIT License
Copyright (c) 2013 kudox.jp
*/
this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){b=b>>0||a.width||300,c=c>>0||a.height||150;var f=this.canvas=e(b,c),g=this.context=f.getContext("2d");a&&g.drawImage(a,0,0),void 0!==d&&this.fillRect(new createjs.Rectangle(0,0,b,c),d),this._imageData||(this._imageData=g.getImageData(0,0,b,c))}function b(a,b,c,d,e){for(;b>=a;){for(;b>=a&&this.getPixel32(a,c)!==d;)a++;if(a>b)break;for(a++;b>=a&&this.getPixel32(a,c)===d;)a++;e.push(new createjs.Point(a-1,c))}}function c(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;if(0===c||0===d||0===e||0===f)return 0;var g=a.x,h=g+c,i=a.y,j=i+d,k=b.x,l=k+e,m=b.y,n=m+f;if(l>g&&n>i&&h>k&&j>m){var o=k>g?k:g,p=h>l?l:h,q=m>i?m:i,r=j>n?n:j;return new createjs.Rectangle(o,q,p-o,r-q)}return 0}function d(a){switch(a){case"<":return function(a,b){return b>a};case"<=":return function(a,b){return b>=a};case">":return function(a,b){return a>b};case">=":return function(a,b){return a>=b};case"==":return function(a,b){return a==b};case"!=":return function(a,b){return a!=b}}}function e(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,c}function f(b,c,d){var f;if(b instanceof a)f=b.context;else if(b instanceof HTMLCanvasElement)f=b.getContext("2d");else if(b instanceof createjs.Stage)f=b.canvas.getContext("2d");else if(b instanceof createjs.DisplayObject){if(!b.cacheCanvas)throw new Error("The source must be called DisplayObject.cache().");f=b.cacheCanvas.getContext("2d")}else if(b instanceof HTMLImageElement||b instanceof HTMLVideoElement){var g=e(c,d);f=g.getContext("2d"),f.drawImage(b,0,0)}return f}a.VERSION="1.0.0",a.getBitmapData=function(b){var c,d;if(b instanceof createjs.DisplayObject){if(!b.cacheCanvas)throw new Error("The object must be called DisplayObject.cache().");c=Object.create(a.prototype),d=c.canvas=b.cacheCanvas;var e=c.context=d.getContext("2d");return c._imageData=e.getImageData(0,0,d.width,d.height),c}};var g=a.prototype={get width(){return this.canvas.width},get height(){return this.canvas.height},get rect(){return new createjs.Rectangle(0,0,this.canvas.width,this.canvas.height)}};g.constructor=a,g.canvas=null,g.context=null,g.name=null,g._imageData=null,g._contextChanged=!1,g.applyFilter=function(b,c,d,f){var g=c.x>>0,h=c.y>>0,i=c.width>>0,j=c.height>>0,k=d.x>>0,l=d.y>>0;if(b instanceof a||b instanceof createjs.Stage)b=b.canvas;else if(b instanceof createjs.DisplayObject){if(!b.cacheCanvas)throw new Error("The source of BitmapData.applyFilter(), must be called DisplayObject.cache().");b=b.cacheCanvas}var m=e(i,j),n=m.getContext("2d");n.drawImage(b,-g,-h),f.applyFilter(n,0,0,i,j),this.context.drawImage(m,k,l),this._contextChanged=!0},g.clearRect=function(a,b,c,d){this.context.clearRect(a,b,c,d),this._contextChanged=!0},g.clone=function(){var b=Object.create(a.prototype),c=this.canvas.width,d=this.canvas.height,f=b.canvas=e(c,d),g=b.context=f.getContext("2d");return this._contextChanged&&this.updateImageData(),g.putImageData(this._imageData,0,0),b._imageData=g.getImageData(0,0,c,d),b},g.colorTransform=function(a,b){for(var c=a.x>>0,d=a.y>>0,e=a.width>>0,f=a.height>>0,g=this.context,h=g.getImageData(c,d,e,f),i=h.data,j=0,k=i.length;k>j;j+=4){var l=j,m=j+1,n=j+2,o=j+3;i[l]=i[l]*b.redMultiplier+b.redOffset,i[m]=i[m]*b.greenMultiplier+b.greenOffset,i[n]=i[n]*b.blueMultiplier+b.blueOffset,i[o]=i[o]*b.alphaMultiplier+b.alphaOffset}g.putImageData(h,c,d),this._contextChanged=!0},g.compare=function(b){var c=b.width,d=b.height;if(this.canvas.width!==c)return-3;if(this.canvas.height!==d)return-4;var g=f(b,c,d),h=g.getImageData(0,0,c,d),i=h.data;this._contextChanged&&this.updateImageData();var j=this._imageData,k=j.data;if(Array.prototype.slice.call(k).toString()===Array.prototype.slice.call(i).toString())return 0;for(var l=Object.create(a.prototype),m=l.canvas=e(c,d),n=l.context=m.getContext("2d"),o=l._imageData=n.createImageData(c,d),p=o.data,q=0,r=k.length;r>q;q+=4){var s=q,t=q+1,u=q+2,v=q+3,w=k[s]===i[s]&&k[t]===i[t]&&k[u]===i[u],x=k[v]===i[v];w?x||(p[s]=p[t]=p[u]=255,p[v]=k[v]-i[v]):(p[s]=k[s]-i[s]&255,p[t]=k[t]-i[t]&255,p[u]=k[u]-i[u]&255,p[v]=255)}return n.putImageData(o,0,0),l},g.copyChannel=function(a,b,c,d,e){for(var g=b.x>>0,h=b.y>>0,j=b.width>>0,k=b.height>>0,l=c.x>>0,m=c.y>>0,n=f(a,g+j,h+k),o=n.getImageData(g,h,j,k),p=o.data,q=i.getChannelIndex(d),r=this.context,s=r.getImageData(l,m,j,k),t=s.data,u=i.getChannelIndex(e),v=0,w=t.length;w>v;v+=4)t[v+u]=p[v+q];r.putImageData(s,l,m),this._contextChanged=!0},g.copyPixels=function(a,b,c,d,e,g){var h=b.x>>0,i=b.y>>0,j=b.width>>0,k=b.height>>0,l=c.x>>0,m=c.y>>0,n=f(a,h+j,i+k),o=n.getImageData(h,i,j,k);if(d){var p,q;e?(p=e.x>>0,q=e.y>>0):(p=0,q=0);for(var r=f(d,p+j,q+k),s=r.getImageData(p,q,j,k),t=o.data,u=s.data,v=3,w=t.length;w>v;v+=4)t[v]=u[v];g?(n.putImageData(o,h,i),this.context.drawImage(n.canvas,h,i,j,k,l,m,j,k)):this.context.putImageData(o,l,m)}else this.context.putImageData(o,l,m);this._contextChanged=!0},g.dispose=function(){delete this._imageData,delete this.context,delete this.canvas},g.draw=function(b,c,d,f,g,h){if(b instanceof a||b instanceof createjs.Stage)b=b.canvas;else if(b instanceof createjs.DisplayObject){if(!b.cacheCanvas)throw new Error("The source of BitmapData.draw(), must be called DisplayObject.cache().");b=b.cacheCanvas}else if(b instanceof HTMLImageElement||b instanceof HTMLVideoElement){var i=e(b.width,b.height),j=i.getContext("2d");j.drawImage(b,0,0),b=i}c=c||new createjs.Matrix2D;var k;if(d){var l=b.width,m=b.height;k=new a(b,l,m),k.colorTransform(new createjs.Rectangle(0,0,l,m),d),b=k.canvas}h=!!h;var n=this.context;n.save(),f&&(n.globalCompositeOperation=f),n.imageSmoothingEnabled=h,n.webkitImageSmoothingEnabled=h,n.mozImageSmoothingEnabled=h,g&&(n.rect(g.x,g.y,g.width,g.height),n.clip()),n.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),n.drawImage(b,0,0),n.restore(),k&&k.dispose(),this._contextChanged=!0},g.drawImage=function(b,c,d,e,f,g,h,i,j){if(b instanceof a||b instanceof createjs.Stage)b=b.canvas;else if(b instanceof createjs.DisplayObject){if(!b.cacheCanvas)throw new Error("The source of BitmapData.drawImage(), must be called DisplayObject.cache().");b=b.cacheCanvas}void 0!==g?this.context.drawImage(b,c,d,e,f,g,h,i,j):void 0!==e?(g=c,h=d,i=e,j=f,this.context.drawImage(b,g,h,i,j)):(g=c||0,h=d||0,this.context.drawImage(b,g,h)),this._contextChanged=!0},g.expand=function(a){var b=a.x,c=a.y,d=Math.ceil,f=d(a.width),g=d(a.height),h=e(this.canvas.width+f,this.canvas.height+g),i=h.getContext("2d");i.drawImage(this.canvas,-b,-c),this.canvas=h,this.context=i,this._contextChanged=!0},g.fillRect=function(a,b){if(!isNaN(b)){var c=b>>16&255,d=b>>8&255,e=255&b,f=(b>>24&255)/255;b=0===f?"rgb("+c+","+d+","+e+")":"rgba("+c+","+d+","+e+","+f+")"}var g=this.context;g.save(),g.fillStyle=b,g.fillRect(a.x,a.y,a.width,a.height),g.restore(),this._contextChanged=!0},g.floodFill=function(a,c,d){this._contextChanged&&this.updateImageData();var e=this._imageData,f=e.width,g=e.height;if(a>>=0,c>>=0,!(0>a||0>c||a>=f||c>=g)){var h=this.getPixel32(a,c);if(h!==d){for(var i=(e.data,[new createjs.Point(a,c)]);i.length;){var j=i.shift(),k=j.x,l=j.y;if(this.getPixel32(k,l)!==d){for(var m=k;m>0&&this.getPixel32(m-1,l)===h;m--);for(var n=k;f-1>n&&this.getPixel32(n+1,l)===h;n++);for(var o=m;n>=o;o++)this.setPixel32(o,l,d);g>l+1&&b.call(this,m,n,l+1,h,i),l-1>=0&&b.call(this,m,n,l-1,h,i)}}this.updateContext()}}},g.getColorBoundsRect=function(a,b,c){void 0===c&&(c=!0),this._contextChanged&&this.updateImageData();for(var d=this._imageData,e=d.width,f=d.height,g=d.data,h=0/0,i=0/0,j=0/0,k=0/0,l=0,m=g.length;m>l;l+=4){var n=((g[l+3]<<24|g[l]<<16|g[l+1]<<8|g[l+2])&a)>>>0;if(c&&n===b||!c&&n!==b){var o=l/4,p=o%e,q=o/e>>0;isNaN(h)?(h=i=p,j=k=q):(h>p&&(h=p),p>i&&(i=p),j>q&&(j=q),q>k&&(k=q))}if(0===h&&i===e-1&&0===j&&k===f-1)break}return isNaN(h)?new createjs.Rectangle:new createjs.Rectangle(h,j,i-h+1,k-j+1)},g.getPixel=function(a,b){if(0>a||0>b)return 0;a>>=0,b>>=0,this._contextChanged&&this.updateImageData();var c=this._imageData,d=c.width,e=c.height;if(a>=d||b>=e)return 0;var f=c.data,g=4*(d*b+a),h=f[g],i=f[++g],j=f[++g];return h<<16|i<<8|j},g.getPixel32=function(a,b){if(0>a||0>b)return 0;a>>=0,b>>=0,this._contextChanged&&this.updateImageData();var c=this._imageData,d=c.width,e=c.height;if(a>=d||b>=e)return 0;var f=c.data,g=4*(d*b+a),h=f[g],i=f[++g],j=f[++g],k=f[++g];return(k<<24|h<<16|i<<8|j)>>>0},g.getPixels=function(a){return this.context.getImageData(a.x>>0,a.y>>0,a.width>>0,a.height>>0).data},g.histogram=function(a){for(var b=[[],[],[],[]],c=0,d=256;d>c;c++)b[0][c]=0,b[1][c]=0,b[2][c]=0,b[3][c]=0;var e=this.context.getImageData(a.x>>0,a.y>>0,a.width>>0,a.height>>0),f=e.data;for(c=0,d=f.length;d>c;c+=4)b[0][f[c]]++,b[1][f[c+1]]++,b[2][f[c+2]]++,b[3][f[c+3]]++;return b},g.hitTest=function(a,b,d,e,g){var h=a.x>>0,i=a.y>>0,j=this.canvas.width,k=this.canvas.height;this._contextChanged&&this.updateImageData();var l,m,n=this._imageData.data;if(d instanceof createjs.Point)return l=(d.x>>0)-h,m=(d.y>>0)-i,l>=j||m>=k||0>l||0>m?!1:b<=n[4*(j*m+l)+3];var o,p,q,r,s;if(d instanceof createjs.Rectangle){if(d.x=(d.x>>0)-h,d.y=(d.y>>0)-i,o=c(new createjs.Rectangle(0,0,j,k),d),0===o)return!1;for(q=o.y,s=q+o.height;s>q;q++)for(p=o.x,r=p+o.width;r>p;p++)if(b<=n[4*(j*q+p)+3])return!0;return!1}var t=f(d,d.width,d.height);if(!t)throw new Error("The secondObject must be Point, Rectangle, BitmapData, cached DisplayObject.");e=e||new createjs.Point,g=g||1,l=(e.x>>0)-h,m=(e.y>>0)-i;var u=t.canvas;if(o=c(new createjs.Rectangle(0,0,j,k),new createjs.Rectangle(l,m,u.width,u.height)),0===o)return!1;var v=o.x,w=o.y,x=o.width,y=o.height,z=t.getImageData(v-l,w-m,x,y),A=z.data;for(q=w,s=q+y;s>q;q++)for(p=v,r=p+x;r>p;p++)if(g<=A[4*(x*(q-w)+(p-v))+3]&&b<=n[4*(j*q+p)+3])return!0;return!1},g.merge=function(a,b,c,d,e,g,h){for(var i=b.x>>0,j=b.y>>0,k=b.width>>0,l=b.height>>0,m=c.x>>0,n=c.y>>0,o=f(a,i+k,j+l),p=o.getImageData(i,j,k,l),q=p.data,r=this.context,s=r.getImageData(m,n,k,l),t=s.data,u=0,v=t.length;v>u;u+=4){var w=u,x=u+1,y=u+2,z=u+3;t[w]=(q[w]*d+t[w]*(256-d))/256,t[x]=(q[x]*e+t[x]*(256-e))/256,t[y]=(q[y]*g+t[y]*(256-g))/256,t[z]=(q[z]*h+t[z]*(256-h))/256}r.putImageData(s,m,n),this._contextChanged=!0},g.noise=function(a,b,c,d){a=a||0,b=b||255;var e=b-a;c=c||7,d=!!d;for(var f=Object.create(i),g=(c&f.RED)===f.RED,h=(c&f.GREEN)===f.GREEN,j=(c&f.BLUE)===f.BLUE,k=(c&f.ALPHA)===f.ALPHA,l=this._imageData.data,m=0,n=l.length;n>m;m+=4){var o=m,p=m+1,q=m+2,r=m+3;d?l[o]=l[p]=l[q]=(Math.random()*e>>0)+a:(l[o]=g?(Math.random()*e>>0)+a:0,l[p]=h?(Math.random()*e>>0)+a:0,l[q]=j?(Math.random()*e>>0)+a:0),l[r]=k?(Math.random()*e>>0)+a:255}this.updateContext()},g.paletteMap=function(a,b,c,d,e,g,h){for(var i=b.x>>0,j=b.y>>0,k=b.width>>0,l=b.height>>0,m=c.x>>0,n=c.y>>0,o=f(a,i+k,j+l),p=o.getImageData(i,j,k,l),q=p.data,r=this.context,s=r.getImageData(m,n,k,l),t=s.data,u=0,v=t.length;v>u;u+=4){var w=u,x=u+1,y=u+2,z=u+3,A=d?d[q[w]]:q[w]<<16,B=e?e[q[x]]:q[x]<<8,C=g?g[q[y]]:q[y],D=h?h[q[z]]:q[z]<<24>>>0;t[w]=((A>>16&255)+(B>>16&255)+(C>>16&255)+(D>>16&255))%256,t[x]=((A>>8&255)+(B>>8&255)+(C>>8&255)+(D>>8&255))%256,t[y]=((255&A)+(255&B)+(255&C)+(255&D))%256,t[z]=((A>>24&255)+(B>>24&255)+(C>>24&255)+(D>>24&255))%256}r.putImageData(s,m,n),this._contextChanged=!0},g.perlinNoise=function(a,b,c,d,e,f,g,j,k,l){if(0===c)return void this.fillRect(new createjs.Rectangle(0,0,this.canvas.width,this.canvas.height),0);a=a||1,b=b||1,e=!!e,f=!!f,g=g||7,j=!!j,k=k||[],l=l||"linear",h.setProperties(d,l);var m=[],n=Object.create(i);if(!j)var o=m[0]=(g&n.RED)===n.RED,p=m[1]=(g&n.GREEN)===n.GREEN,q=m[2]=(g&n.BLUE)===n.BLUE;for(var r=m[3]=(g&n.ALPHA)===n.ALPHA,s=this._imageData.data,t=0,u=this.canvas.height;u>t;t++)for(var v=0,w=this.canvas.width;w>v;v++){var x;x=e?h.getStitchNoises(v,t,w,u,a,b,c,f,m,j,k):h.getNoises(v,t,a,b,c,f,m,j,k);var y=4*(w*t+v),z=y+1,A=y+2,B=y+3;j?s[y]=s[z]=s[A]=256*x[0]:(s[y]=o?256*x[0]:0,s[z]=p?256*x[1]:0,s[A]=q?256*x[2]:0),s[B]=r?256*x[3]:255}this.updateContext()};var h=function(){function a(){}function b(a,b,d,e,f,g,i,j,k){for(var l=i[0],m=i[1],n=i[2],o=i[3],p=[0,0,0,0],q=[],r=0;f>r;r++){var s,t,u=r+1,v=Math.pow(2,u),w=Math.pow(h,u);k[r]?(s=k[r].x,t=k[r].y):s=t=0;var x=(a+s)/d*v,y=(b+t)/e*v;j?q[0]=c(x,y,0):(l&&(q[0]=c(x,y,0)),m&&(q[1]=c(x,y,1)),n&&(q[2]=c(x,y,2))),o&&(q[3]=c(x,y,3));for(var z=0,A=4;A>z;z++){var B=q[z];void 0!==B&&(g?B=.6*B+.2:B*=B,p[z]+=B*w)}}return p}function c(a,b,c){var d=a>>0,e=b>>0,h=a-d,i=b-e,j=d+1,k=e+1,l=f(d,e,c),m=f(j,e,c),n=f(d,k,c),o=f(j,k,c),p=g(l,m,h),q=g(n,o,h);return g(p,q,i)}function d(a,b,c){return a*(1-c)+b*c}function e(a,b,c){var d=c*Math.PI,e=.5*(1-Math.cos(d));return a*(1-e)+b*e}function f(a,b,c){var d=(l+a)*(b+c^j);return d=4294967295&(d<<13^d),(i*d+j&k)/(k+1)}var g,h=.5,i=1103515245,j=12345,k=2147483647,l=1;return a.setProperties=function(a,b){0!==a&&(l=a%16777215),g="cos"===b?e:d},a.getStitchNoises=function(a,c,d,e,f,g,h,i,j,k,l){var m=a+d,n=c+e,o=b(a,c,f,g,h,i,j,k,l),p=b(m,c,f,g,h,i,j,k,l),q=b(a,n,f,g,h,i,j,k,l),r=b(m,n,f,g,h,i,j,k,l),s=a/d,t=c/e,u=1-s,v=1-t,w=[0,0,0,0];return(k||j[0])&&(w[0]=o[0]*s*t+p[0]*u*t+q[0]*s*v+r[0]*u*v),!k&&j[1]&&(w[1]=o[1]*s*t+p[1]*u*t+q[1]*s*v+r[1]*u*v),!k&&j[2]&&(w[2]=o[2]*s*t+p[2]*u*t+q[2]*s*v+r[2]*u*v),j[3]&&(w[3]=o[3]*s*t+p[3]*u*t+q[3]*s*v+r[3]*u*v),w},a.getNoises=b,a}();g.pixelDissolve=function(a,b,c,d,e,g){var h=this.canvas.width,i=this.canvas.height,j=b.x>>0,k=b.y>>0,l=b.width>>0,m=b.height>>0,n=c.x>>0,o=c.y>>0;e=e||l*m/30>>0,g=g||0;var p,q,r,s,t=this===a;t&&(p=g>>16&255,q=g>>8&255,r=255&g,s=g>>24&255);var u=f(a,j+l,k+m),v=u.getImageData(j,k,l,m),w=v.data;this._contextChanged&&this.updateImageData();var x=this._imageData.data;if(!d){d=[];for(var y=0,z=l*m;z>y;y++)d[y]=y}for(;e>0;){var A=Math.random()*(d.length-1)>>0,B=d.splice(A,1)[0],C=B%l,D=B/l>>0,E=C+n,F=D+o;if(!(0>E||0>F||E>=h||F>=i)){var G=4*(h*F+E);if(t)x[G]=p,x[++G]=q,x[++G]=r,x[++G]=s;else{var H=4*B;x[G]=w[H],x[++G]=w[++H],x[++G]=w[++H],x[++G]=w[++H]}if(0===d.length)return this.updateContext(),0;e--}}return this.updateContext(),d},g.scroll=function(a,b){var c=this.context;this._contextChanged&&this.updateImageData(),c.putImageData(this._imageData,a>>0,b>>0),this._contextChanged=!0},g.setPixel=function(a,b,c){if(!(0>a||0>b)){a>>=0,b>>=0,this._contextChanged&&this.updateImageData();var d=this._imageData,e=d.width,f=d.height;if(!(a>=e||b>=f)){var g=d.data,h=4*(e*b+a);g[h]=c>>16&255,g[++h]=c>>8&255,g[++h]=255&c}}},g.setPixel32=function(a,b,c){if(!(0>a||0>b)){a>>=0,b>>=0,this._contextChanged&&this.updateImageData();var d=this._imageData,e=d.width,f=d.height;if(!(a>=e||b>=f)){var g=d.data,h=4*(e*b+a);g[h]=c>>16&255,g[++h]=c>>8&255,g[++h]=255&c,g[++h]=c>>24&255}}},g.setPixels=function(a,b){for(var c=this.context,d=c.createImageData(a.width>>0,a.height>>0),e=d.data,f=0,g=e.length;g>f;f++)e[f]=b[f];c.putImageData(d,a.x>>0,a.y>>0),this._contextChanged=!0},g.threshold=function(a,b,c,e,g,h,i,j){var k=b.x>>0,l=b.y>>0,m=b.width>>0,n=b.height>>0,o=c.x>>0,p=c.y>>0,q=d(e);h=h||0;var r=h>>16&255,s=h>>8&255,t=255&h,u=h>>24&255;void 0===i&&(i=4294967295);for(var v=f(a,k+m,l+n),w=v.getImageData(k,l,m,n),x=w.data,y=this.context,z=y.getImageData(o,p,m,n),A=z.data,B=0,C=A.length;C>B;B+=4){var D=B,E=B+1,F=B+2,G=B+3,H=(x[G]<<24|x[D]<<16|x[E]<<8|x[F])>>>0;q(H&i,g&i)?(A[D]=r,A[E]=s,A[F]=t,A[G]=u):j&&(A[D]=x[D],A[E]=x[E],A[F]=x[F],A[G]=x[G])}y.putImageData(z,o,p),this._contextChanged=!0},g.toString=function(){return"[BitmapData (name="+this.name+")]"},g.updateContext=function(){this.context.putImageData(this._imageData,0,0)},g.updateImageData=function(){this._imageData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),this._contextChanged=!1};var i={ALPHA:8,BLUE:4,GREEN:2,RED:1,getChannelIndex:function(a){switch(a){case i.RED:return 0;case i.GREEN:return 1;case i.BLUE:return 2;case i.ALPHA:return 3}}},j=function(){function a(a,b,c,d,e,f,g,h){void 0!==a&&(this.redMultiplier=a),void 0!==b&&(this.greenMultiplier=b),void 0!==c&&(this.blueMultiplier=c),void 0!==d&&(this.alphaMultiplier=d),void 0!==e&&(this.redOffset=e),void 0!==f&&(this.greenOffset=f),void 0!==g&&(this.blueOffset=g),void 0!==h&&(this.alphaOffset=h)}var b=a.prototype={get color(){return(this.redOffset<<16|this.greenOffset<<8|this.blueOffset)>>>0},set color(a){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0,this.redOffset=a>>16&255,this.greenOffset=a>>8&255,this.blueOffset=255&a}};return b.constructor=a,b.redMultiplier=1,b.greenMultiplier=1,b.blueMultiplier=1,b.alphaMultiplier=1,b.redOffset=0,b.greenOffset=0,b.blueOffset=0,b.alphaOffset=0,b.clone=function(){var b=Object.create(a.prototype);return this.hasOwnProperty("redMultiplier")&&(b.redMultiplier=this.redMultiplier),this.hasOwnProperty("greenMultiplier")&&(b.greenMultiplier=this.greenMultiplier),this.hasOwnProperty("blueMultiplier")&&(b.blueMultiplier=this.blueMultiplier),this.hasOwnProperty("alphaMultiplier")&&(b.alphaMultiplier=this.alphaMultiplier),this.hasOwnProperty("redOffset")&&(b.redOffset=this.redOffset),this.hasOwnProperty("greenOffset")&&(b.redOffset=this.redOffset),this.hasOwnProperty("blueOffset")&&(b.redOffset=this.redOffset),this.hasOwnProperty("alphaOffset")&&(b.redOffset=this.redOffset),b},b.concat=function(a){this.redOffset+=this.redMultiplier*a.redOffset,this.greenOffset+=this.greenMultiplier*a.greenOffset,this.blueOffset+=this.blueMultiplier*a.blueOffset,this.alphaOffset+=this.alphaMultiplier*a.alphaOffset,this.redMultiplier*=a.redMultiplier,this.greenMultiplier*=a.greenMultiplier,this.blueMultiplier*=a.blueMultiplier,this.alphaMultiplier*=a.alphaMultiplier},b.toString=function(){return"[ColorTransform (redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")]"},a}();createjs.BitmapData=a,createjs.BitmapDataChannel=i,createjs.ColorTransform=j}(window);